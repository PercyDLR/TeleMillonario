<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

    <head th:replace="fragments/header :: head('Lista Salas',~{::style})">

        <!--Bootstrap 5-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
              rel="stylesheet" crossorigin="anonymous"
              integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU">
        <!-- Estilos Propios-->
        <style>
            .overlay {
                position: fixed;
                top: 0;
                bottom: 0;
                left: 0;
                right: 0;
                background: rgba(0, 0, 0, 0.7);
                transition: opacity 500ms;
                visibility: hidden;
                opacity: 0;
            }
            #popup:target{
                visibility: visible; /* Se regresa a hidden para ocultar */
                opacity: 1; /* Se regresa a o para hacerlo "invisible" */
            }
        </style>
    </head>

    <body class="body" style="float: left; background: url('../img/home/telon-abierto-opaco.jpg'); background-repeat: no-repeat; background-attachment: fixed; background-size: 100% 100%;">
        <div>
            <header th:replace="fragments/navbar :: admin('salas','Alonso Rosales')"></header>
            <div class="content" >
                <div class="container">
                    <div class="row align-items-stretch justify-content-center no-gutters">
                        <div class="col-md-7">
                            <div class="form h-100 contact-wrap p-5"
                                 style="border-radius: 40px;border: 20px solid #292524">
                                <h3 class="text-center"
                                    style="padding-bottom: 30px;font-size: 7rem;font-size: 96px;color: white;font-family: 'Open Sans';font-weight: 900;"
                                    th:text="${sala.id == 0 ? 'Nueva Sala' : 'Editar Sala'}"><b></b></h3>
                                <form class="mb-5" method="post" id="contactForm" name="contactForm"
                                      th:action="@{'/sala/guardar'}" th:object="${sala}">
                                    <input hidden th:field="*{id}">
                                    <input hidden th:field="*{numero}">
                                    <input hidden name="idsede" th:value="${sede}">
                                    <div class="row">
                                        <div class="col-md-6 form-group mb-3" th:if="${sala.id == 0}">
                                            <label class="col-form-label"><b>Identificador</b></label>
                                            <input class="form-control" type="text" th:field="*{identificador}"
                                                   th:classappend="${#fields.hasErrors('identificador')? 'is-invalid':''}"
                                                   maxlength="10" required>
                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('identificador')}"
                                                 th:errors="*{identificador}"></div>
                                        </div>
                                    </div>
                                    <br>
                                    <div class="row">
                                        <div class="col-md-6 form-group mb-3">
                                            <label class="col-form-label"><b>Aforo</b></label>
                                            <input class="form-control" type="number" th:field="*{aforo}"
                                                   th:classappend="${#fields.hasErrors('aforo')? 'is-invalid':''}"
                                                   min="0" required>
                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('aforo')}"
                                                 th:errors="*{aforo}"></div>
                                        </div>
                                    </div>
                                    <br>
                                    <div class="row" th:if="${sala.id == 0}">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="1"
                                                   id="flexCheckDefault" name="estado">
                                            <label class="form-check-label" for="flexCheckDefault">
                                                La sala se mostrar√° en estado disponible una vez sea creada
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row" th:unless="${sala.id == 0}">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="flexRadioDefault"
                                                   id="flexRadioDefault1" th:checked="${sala.estado == 1}">
                                            <label class="form-check-label" for="flexRadioDefault1">
                                                Sala disponible
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="flexRadioDefault"
                                                   id="flexRadioDefault2" th:checked="${sala.estado == 0}">
                                            <label class="form-check-label" for="flexRadioDefault2">
                                                Sala no disponible
                                            </label>
                                        </div>
                                    </div>
                                    <br>
                                    <div style="display: flex;justify-content: center">
                                        <a th:href="@{/sala}" class="sign__btn"
                                           style="border-radius: 20px; margin-top: 30px;">Cancelar</a>
                                        <button style="border-radius: 20px;margin-left: 80px; margin-top: 30px;"
                                                class="sign__btn" type="submit"
                                                th:text="${sala.id == 0? 'Registrar': 'Actualizar'}">Registrar
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div th:replace="fragments/footer :: js"></div>
    </body>
</html>