<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head th:replace="fragments/header :: head('Reportes',~{::style})">
        <style>

            .sign__input{
                border: solid 1px #61616c;
                width: 100%;
                border-radius: 5px;
            }

            .price__item--first span:first-child{
                max-width: 100%;
            }

            .price img {
                margin-inline: auto;
                max-width: 100%;
                aspect-ratio: 9 / 14;
                object-fit: cover;
                object-position: 50% 50%;
            }
            .owl-dots{
                height: 0;
            }

        </style>
    </head>

    <body class="body">

        <div th:replace="fragments/navbar :: operador('reportes')"></div>

        <div class="content" >
            <div class="container mb-3">

                <div class="row">

                    <div class="col-12">
                        <div class="alert alert-success alert-dismissible fade show" role="alert" th:if="${msg != null}">
                            <i class="bi bi-exclamation-triangle-fill"></i>
                            <strong th:text="${msg}"></strong>
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    </div>

                    <div class="col-12">
                        <h1 class="home__title">ESTADÍSTICAS</h1>
                    </div>

                    <!--<div class="col-12">-->
                    <div class="col-12 mt-5">
                        <form method="get" th:action="@{/operador/reportes}">
                            <div class="row justify-content-center">

                                <div class="col-md-4 col-6 sign__group">
                                    <select id="periodicidad" class="sign__input" name="periodicidad">
                                        <option value="">Todo</option>
                                        <option value="Mensual">Mensual</option>
                                        <option value="Anual">Anual</option>
                                    </select>
                                </div>

                                <div class="col-md-4 col-6 sign__group">
                                    <select id="periodo" class="sign__input" name="periodo">
                                        <option value="">Todo</option>
                                    </select>
                                </div>

                                <div class="col-md-2 col-12" style="display: flex;justify-content: center; margin: 0; padding: 0">
                                    <button type="button" class="form__btn" style="width: 50%; margin: 0; font-size: 1.25rem;">
                                        <i class="bi bi-search"></i>
                                    </button>
                                </div>

                                <div class="col-md-2 col-12" style="display: flex;justify-content: center; margin: 0; padding: 0">
                                    <button type="button" class="form__btn" style="width: 50%; margin: 0; font-size: 1.5rem;">
                                        <i class="bi bi-file-earmark-spreadsheet-fill"></i>
                                    </button>
                                </div>

                            </div>
                        </form>
                    </div>
                </div>

                <div class="row" >
                    <div class="col-12 col-md-6 col-lg-4 my-4" th:object="${funcionMasVista}">

                        <div class="price price--premium">
                            <div class="price__item price__item--first">
                                <span>Función Más Vista</span>
                            </div>

                            <div class="price__item price__item--first">
                                <span th:text="*{nombre}"></span>
                                <span></span>
                            </div>

                            <img class="card-img-top mt-3" th:src="*{url}" th:alt="*{nombre}">

                            <div class="price__item"><span th:text="|Portcentaje de Asistencia: *{pasistencia}%|"></span></div>
                        </div>
                    </div>

                    <div class="col-12 col-md-6 col-lg-4 my-4" th:object="${funcionMejorCalificada}">

                        <div class="price price--premium">
                            <div class="price__item price__item--first">
                                <span>Función Mejor Calificada</span>
                            </div>

                            <div class="price__item price__item--first">
                                <span th:text="*{nombre}"></span>
                                <span></span>
                            </div>

                            <img class="card-img-top mt-3" th:src="*{url}" th:alt="*{nombre}">

                            <div class="price__item"><span th:text="|Calificación Promedio: *{calificacion}%|"></span></div>
                        </div>
                    </div>

                    <div class="col-12 col-md-6 col-lg-4 my-4" th:object="${funcionMenosVista}">

                        <div class="price price--premium">
                            <div class="price__item price__item--first">
                                <span>Función Menos Vista</span>
                            </div>

                            <div class="price__item price__item--first">
                                <span th:text="*{nombre}"></span>
                                <span></span>
                            </div>

                            <img class="card-img-top mt-3" th:src="*{url}" th:alt="*{nombre}">

                            <div class="price__item"><span th:text="|Portcentaje de Asistencia: *{pasistencia}%|"></span></div>
                        </div>
                    </div>

                    <!-- Actores más vistos -->
                    <div class="col-12 col-md-6 col-lg-4 my-4">

                        <div class="price price--premium">

                            <div class="price__item price__item--first">
                                <button class="home__nav home__nav--prev" type="button">
                                    <i class="icon ion-ios-arrow-round-back"></i>
                                </button>

                                <button class="home__nav home__nav--next" type="button">
                                    <i class="icon ion-ios-arrow-round-forward"></i>
                                </button>
                                <span>Mejores Actores</span>
                            </div>

                            <div class="owl-carousel photo__carousel mt-3">

                                <div class="item" th:each="actor : ${actoresMejorCalificados}">
                                    <div class="card__cover">

                                        <img th:src="${actor.url}">

                                        <a class="card__play" href="#">
                                            <i class="ion ion-ios-play" style="color: white"></i>
                                        </a>
                                    </div>

                                    <div class="card__content">
                                        <h3 class="card__title">
                                            <a href="#" th:text="${actor.nombres + ' ' + actor.apellidos}"></a>
                                        </h3>
                                        <span class="card__rate">
                                            <i class="icon ion-ios-star"></i>
                                            <span th:text="${actor.calificacion}"></span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Porcentajes de Asistencia por Función -->
                    <div class="col-12 col-md-6 col-lg-4 my-4">

                        <div class="price price--premium">
                            <div class="price__item price__item--first">
                                <span>Porcentajes de Asistencia</span>
                            </div>

                            <div class="mt-3" style="height: 540px ;max-height: 540px; overflow-y: auto">
                                <div class="price__item" th:each="funcion : ${funcionesPorcentajeAsistencia}">
                                    <span th:text="|${funcion.nombre}: ${funcion.pasistencia}%|"></span>
                                </div>
                            </div>
                        </div>
                    </div>


                    <!-- Directores más vistos -->
                    <div class="col-12 col-md-6 col-lg-4 my-4">
                        <div class="price price--premium">

                            <div class="price__item price__item--first">
                                <button class="home__nav home__nav--prev" type="button">
                                    <i class="icon ion-ios-arrow-round-back"></i>
                                </button>

                                <button class="home__nav home__nav--next" type="button">
                                    <i class="icon ion-ios-arrow-round-forward"></i>
                                </button>
                                <span>Mejores Directores</span>
                            </div>

                            <div class="owl-carousel photo__carousel mt-3">

                                <div class="item" th:each="director : ${directoresMejorCalificados}">
                                    <div class="card__cover">

                                        <img th:src="${director.url}">

                                        <a class="card__play" href="#">
                                            <i class="ion ion-ios-play" style="color: white"></i>
                                        </a>
                                    </div>

                                    <div class="card__content">
                                        <h3 class="card__title">
                                            <a href="#" th:text="${director.nombres + ' ' + director.apellidos}"></a>
                                        </h3>
                                        <span class="card__rate">
                                            <i class="icon ion-ios-star"></i>
                                            <span th:text="${director.calificacion}"></span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="row">
                    <div class="col-2">
                        <h1 class="details__title"
                            style="text-align: center;margin-left: 25px;margin-bottom: 30px;margin-top: 10px;font-size: 40px;color: white;font-family: 'Open Sans';font-weight: 900;">
                            Estadísticas
                        </h1>
                        <div class="card" style="width: 18rem;margin-right: 20px;background-color: #DD4063;opacity: 80%;color: #FFFFFF">
                            <h2 class="details__title"
                                style="text-align: center;margin-bottom: 30px;margin-top: 10px;font-size: 25px;color: white;font-family: 'Open Sans';font-weight: 900;">
                                Función mas vista
                            </h2>
                            <div style="display: flex;justify-content: center">
                                <img class="card-img-top" src="../../../static/img/covers/Independencia.png" alt="Card image cap"
                                     style="width: 70%">
                            </div>

                            <div class="card-body">
                                <h5 class="card-title" style="text-align: center;color: #FFFFFF; font-size: 150%;margin-bottom: 8%" ><b>Independencia</b></h5>
                                <p class="card-text" style="font-size: 110%"><b>Porcentaje de asistencia: 97%</b></p>
                            </div>
                        </div>
                    </div>
                    <div class="col-3"></div>
                    <div class="col-2">
                        <button style="text-transform: capitalize;margin-left: 70px;margin-bottom: 10px" class="sign__btn" >Exportar reporte de ganancias</button>
                        <div class="card" style="width: 18rem;background-color: #DD4063;opacity: 80%;color: #FFFFFF">
                            <h1 class="details__title"
                                style="text-align: center;margin-bottom: 30px;margin-top: 10px;font-size: 35px;color: white;font-family: 'Open Sans';font-weight: 900;">
                                Porcentaje de Asistencia
                            </h1>
                            <br>
                            <br>
                            <div class="card-body" style="display: flex;justify-content: center">
                                <button ><i style="color: #575454" class="fa fa-arrow-circle-down fa-4x"></i></button>
                            </div>
                            <br>
                            <br>
                        </div>
                    </div>
                    <div class="col-3"></div>
                    <div class="col-2">
                        <button style="text-transform: capitalize;margin-left: 70px;margin-bottom: 10px" class="sign__btn" >Enviar reporte de ganancias</button>
                        <div class="card" style="width: 18rem;background-color: #DD4063;opacity: 80%;color: #FFFFFF">
                            <h1 class="details__title"
                                style="text-align: center;margin-bottom: 30px;margin-top: 10px;font-size: 35px;color: white;font-family: 'Open Sans';font-weight: 900;">
                                Actores mejor calificados
                            </h1>
                            <br>
                            <br>
                            <div class="card-body" style="display: flex;justify-content: center">
                                <button ><i style="color: #575454" class="fa fa-arrow-circle-down fa-4x"></i></button>
                            </div>
                            <br>
                            <br>
                        </div>
                    </div>
                    <div class="col-3"></div>
                </div>
                <br>
                <div class="row">
                    <div class="col-2">

                        <div class="card" style="width: 18rem;margin-right: 20px;background-color: #DD4063;opacity: 80%;color: #FFFFFF">
                            <h2 class="details__title"
                                style="text-align: center;margin-bottom: 20px;margin-top: 20px;font-size: 25px;color: white;font-family: 'Open Sans';font-weight: 900;">
                                Función menos vista
                            </h2>
                            <div style="display: flex;justify-content: center">
                                <img class="card-img-top" src="../../../static/img/covers/LosTambores.png" alt="Card image cap"
                                     style="width: 85%">
                            </div>

                            <div class="card-body">

                                <h5 class="card-title" style="text-align: center;color: #FFFFFF; font-size: 150%;margin-bottom: 8%" ><b>Los tambores</b></h5>
                                <p class="card-text" style="font-size: 110%"><b>Porcentaje de asistencia: 65%</b></p>
                            </div>
                        </div>
                        <div style="display: flex;justify-content: center;margin-left: 40px">

                            <h3 class="details__title"
                                style="text-align: center;margin-right: 10px;margin-bottom: 20px;margin-top: 10px;font-size: 17px;color: white;font-family: 'Open Sans';font-weight: 900;">
                                Periodicidad:
                            </h3>
                            <select name="buscador">

                                <option  value="Diaria">Diaria</option>
                                <option  value="Mensual">Mensual</option>
                                <option  value="Bimestral">Bimestral</option>
                                <option  value="Semestral">Semestral</option>
                                <option  value="Anual">Anual</option>
                            </select>

                        </div>

                    </div>
                    <div class="col-3">
                    </div>
                    <div class="col-2">

                        <div class="card" style="width: 18rem;margin-right: 20px;background-color: #DD4063;opacity: 80%;color: #FFFFFF">
                            <h2 class="details__title"
                                style="text-align: center;margin-bottom: 20px;margin-top: 10px;font-size: 25px;color: white;font-family: 'Open Sans';font-weight: 900;">
                                Función mejor calificada
                            </h2>
                            <div style="display: flex;justify-content: center">
                                <img class="card-img-top" src="../../../static/img/covers/Independencia.png" alt="Card image cap"
                                     style="width: 70%">
                            </div>

                            <div class="card-body">
                                <h5 class="card-title" style="text-align: center;color: #FFFFFF; font-size: 150%;margin-bottom: 8%" ><b>Independencia</b></h5>
                                <p class="card-text" style="font-size: 110%"><b>Puntuación promedio: 4.9/5</b></p>
                            </div>
                        </div>
                        <div style="display: flex;justify-content: center;margin-left: 40px">

                            <h3 class="details__title"
                                style="text-align: center;margin-right: 10px;margin-bottom: 20px;margin-top: 10px;font-size: 17px;color: white;font-family: 'Open Sans';font-weight: 900;">
                                Periodo:
                            </h3>
                            <select name="buscador">

                                <option  value="Enero">Enero</option>
                                <option  value="Febrero">Febrero</option>
                                <option  value="Marzo">Marzo</option>
                                <option  value="Abril">Abril</option>
                                <option  value="Junio">Junio</option>
                                <option  value="Julio">Julio</option>
                                <option  value="Agosto">Agosto</option>
                                <option  value="Septiembre">Septiembre</option>
                                <option  value="Octubre">Octubre</option>
                                <option  value="Noviembre">Noviembre</option>
                                <option  value="Diciembre">Diciembre</option>
                            </select>

                        </div>
                    </div>
                    <div class="col-3"></div>
                    <div class="col-2">
                        <div class="card" style="width: 18rem;background-color: #DD4063;opacity: 80%;color: #FFFFFF">
                            <h1 class="details__title"
                                style="text-align: center;margin-bottom: 30px;margin-top: 10px;font-size: 35px;color: white;font-family: 'Open Sans';font-weight: 900;">
                                Directores mejor calificados
                            </h1>
                            <br>
                            <br>
                            <div class="card-body" style="display: flex;justify-content: center">
                                <button ><i style="color: #575454" class="fa fa-arrow-circle-down fa-4x"></i></button>
                            </div>
                            <br>
                            <br>
                        </div>
                        <button style="text-transform: capitalize;margin-left: 70px;margin-bottom: 10px" class="sign__btn" >Aplicar Cambios</button>
                    </div>

                    <div class="col-3"></div>
                </div>
                <br>

                <div style="height: 10px"></div>
            </div>
        </div>





        <div th:replace="fragments/footer :: js(~{::script})">

            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
                    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
                    crossorigin="anonymous">
            </script>

        </div>
    </body>
</html>